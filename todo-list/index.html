<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Todo List</title>
    <style media="screen">
      body {
        background-color: rgb(240, 240, 244);
      }

      .box-ish:checked + span{
        text-decoration:line-through;
        color: rgb(200, 200, 200);
      }

      .buttonish {
        margin-top: 20px;
        padding: 10px 20px;
        border-radius: 5px;
        font-size: 20px;
        font-family: "Times";
      }

      .footer {
        font-family: "Times";
        color: rgb(220, 220, 220);
        font-size: 32px;
        display: block;
        text-align: center;
      }

      li {
        margin: 3px 0;
      }

      #nameapp {
        display: inline-block;
        width: 350px;
        margin-top: 30px;
        padding-right: 70px;
      }

      #new-item-click {
        background-color: rgb(4, 155, 215);
        color: rgb(254, 254, 254);
        border: none;
        margin-left: 5px;
        box-shadow: inset 0 0 0 1px rgb(3, 128, 173);
      }

      #new-item-input {
        width: 350px;
        box-shadow: inset 0 0 0 1px rgb(205, 205, 205);
        border: none;

      }

      #new-item-input:focus {
        border: 1px rgb(145, 204, 230) solid;
        border: none;
      }

      .new-task {
        font-size: 20px;
        font-family: "Times";
      }


      #todo-num {
        position: absolute;
        top: 35px;
        left: 407px;
      }

      .top {
        font-size: 32px;
        font-family: "Times";
        display: block;
        margin-left: auto;
        margin-right: auto;
        max-width: 500px;
        position: relative;
      }


      ul {
        list-style: none;
        padding-left: 20px;
        margin-top: 8px;
      }

    </style>
  </head>
  <body>

    <div class="top">
      <div class="top-row">
        <span id="nameapp"><strong>Today's todos</strong></span>
        <span id="todo-num" class="todo-count">0</span>
        <span id="text" class="todo-count">todos</span>
      </div>
      <form id="new-item-form">
        <input type="text" id="new-item-input" class="buttonish" placeholder="What do you need to do today?" autofocus required>
        <button id="new-item-click" class="buttonish" type="submit">Create</button>
      </form>

      <ul id="todo-list">
      </ul>

</div>

      <span class="footer">Nothing to do</span>


    <script type="text/javascript">

      //button click stuff
      var button = document.querySelector("button");
      var span = document.querySelector("#todo-num");

      button.addEventListener("click", tododoo);

      function tododoo(event) {
        event.preventDefault();
        //make new checkbox
        newLi = document.createElement("li");
        newLab = document.createElement("label");
        newInny = document.createElement("input");
        newSpan = document.createElement("span");

        newInny.setAttribute("type", "checkbox")
        newInny.setAttribute("class", "box-ish")
        newSpan.textContent = " " + document.querySelector("#new-item-input").value;

        newSpanArray = newSpan.textContent.split(",");
        for (var i = 0; i < newSpanArray.length; i++) {
          grabbedUl = document.querySelector("ul");
          newLi = document.createElement("li");
          newLab = document.createElement("label");

          newInny = document.createElement("input");
          newInny.setAttribute("type", "checkbox")
          newInny.setAttribute("class", "box-ish")
          newSpan = document.createElement("span");
          newSpan.setAttribute("class", "new-task")
          newSpan.textContent = newSpanArray[i];

          grabbedUl.appendChild(newLi);
          newLi.appendChild(newLab);
          newLab.appendChild(newInny);
          newLab.appendChild(newSpan);
        }

        newSpan.setAttribute("class", "new-task")
        grabbedUl = document.querySelector("ul");

        grabbedUl.appendChild(newLi);
        newLi.appendChild(newLab);
        newLab.appendChild(newInny);
        newLab.appendChild(newSpan);

        //fuck with footer content
        var footy = document.querySelector(".footer");
        footy.textContent = "";

        //count todos
        var items = document.querySelectorAll(".box-ish");

        for (var i = 0; i < items.length; i++) {
        var span = document.querySelector("#todo-num");
        span = parseInt(span);
        document.querySelector("#todo-num").textContent = items.length;
        document.querySelector("#new-item-input").value = "";
        }
      }










    </script>
  </body>
</html>
