name: "youtube-p13n-server-access-sphinx"
display_name: "YouTube Personalization Server Access"
description: "YouTube engineers who need to be able to make RPCs to p13n servers for their own GAIA ID. More info here: go/p13naccess"
managed_role {
  name: "youtube-p13n-server-access-sphinx-owner"
  display_name: "Owner"
  description: "Responsible for general management of this system (adding/editing roles and policies)."
  managed_role_policy {
    compliance_resolution_window_days: 14
    requirement {
      type: ROLE_APPROVAL
      role_approval {
        role_name: "youtube-p13n-server-access-sphinx-owner"
        schedule: ONE_TIME
        order: 0
      }
    }
  }
  enabled: true
  enrollment_behavior: REQUEST_REQUIRED
  visible: true
}
managed_role {
  name: "youtube-p13n-server-access-sphinx-auditor"
  display_name: "Auditor"
  description: "Responsible for verifying access controls, reviews, and membership anomalies."
  managed_role_policy {
    compliance_resolution_window_days: 14
    requirement {
      type: ROLE_APPROVAL
      role_approval {
        role_name: "youtube-p13n-server-access-sphinx-owner"
        schedule: ONE_TIME
        approver_must_justify: true
        order: 0
      }
    }
  }
  enabled: true
  enrollment_behavior: REQUEST_REQUIRED
  visible: true
}
managed_role {
  name: "youtube-p13n-server-access-sphinx-user"
  display_name: "YouTube Personalization Server Access User."
  description: "YouTube engineers who need to be able to make RPCs to p13n servers for their own GAIA ID."
  managed_role_policy {
    compliance_resolution_window_days: 14
    requirement {
      type: REPORTS_TO
      reports_to {
        username: "ssilver"
      }
    }
    requirement {
      type: GRACKLE_ACK
      grackle_ack {
        doc_id: "userdata"
        order: 1
      }
    }
    requirement {
      type: SELF_APPROVAL
      self_approval {
        schedule: ANNUALLY
        approver_must_justify: true
        order: 2
      }
    }
    requirement {
      type: IS_PERSON_TYPE
      is_person_type {
        person_type: EMPLOYEE
      }
    }
  }
  provisionable_short_form: "mdbgroup/youtube-p13n-server-access-sphinx"
  enabled: true
  enrollment_behavior: REQUEST_REQUIRED
  visible: true
  has_compliance_requirements: false
}
managed_role {
  name: "youtube-p13n-server-access-sphinx-non-yt-user"
  display_name: "YouTube Personalization Server Access Non-YT User."
  description: "Engineers who need to be able to make RPCs to p13n servers for their own GAIA ID."
  managed_role_policy {
    compliance_resolution_window_days: 14
  requirement {
   type: IN_ANY_MDB_GROUP
   in_any_mdb_group {
    group_name: "youtube-p13n-server-access-sphinx-other"
    member_type: ANY
   }
  }
    requirement {
      type: GRACKLE_ACK
      grackle_ack {
        doc_id: "userdata"
        order: 1
      }
    }
    requirement {
      type: SELF_APPROVAL
      self_approval {
        schedule: ANNUALLY
        approver_must_justify: true
        order: 2
      }
    }
    requirement {
      type: IS_PERSON_TYPE
      is_person_type {
        person_type: EMPLOYEE
      }
    }
  }
}

}
provisionable {
  type: PRINCIPAL
  membership_change_detection: RECORD_MEMBERSHIP_ANOMALY
  member_incorrectly_in_group_policy {
    email_auditors: true
    email_user: false
    enabled: true
    auto_correct: true
    auto_correct_window_days: 3
  }
  member_missing_from_group_policy {
    email_auditors: true
    email_user: false
    enabled: true
    auto_correct: true
    auto_correct_window_days: 0
  }
  principal_short_form: "mdbgroup/youtube-p13n-server-access-sphinx"
  anomaly_in_fail_safe_policy {
    type: NONE
  }
  anomaly_missing_fail_safe_policy {
    type: NONE
  }
}
enabled: true
owner_role_name: "youtube-p13n-server-access-sphinx-owner"
auditor_role_name: "youtube-p13n-server-access-sphinx-auditor"
system_contact: "youtube-p13n-ninja@google.com"
